<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>FaceID API Call Library 使用文档</title>
      <link href="/blog/articles/25771a1d.html"/>
      <url>/blog/articles/25771a1d.html</url>
      <content type="html"><![CDATA[<p><blockquote class="blockquote-center">为了人工智能终将创造的所有美好<br>Power Human with AI</blockquote><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/25771a1d/img_head.jpg" title="FaceID 在线身份验证服务"></p><h1 id="〇-咳咳。。讲两句"><a href="#〇-咳咳。。讲两句" class="headerlink" title="〇. 咳咳。。讲两句"></a>〇. 咳咳。。讲两句</h1><p id="div-border-left-green">&emsp;&emsp;入职Face++八个月，微信客户群目前没有1000个也有800了，忙碌的同时也对公司业务充满信心。在最新一个Q与Leader谈话时，根据每周工作内容的“大数据”分析，客户在集成SDK过程中，经常会出现FaceID API接口请求不通的情况，而作为一个安（quan）卓（zhan）技术支持工程师，本职工作就是为客户迅速定位并解决问题，使之能更快速落地，所以这几天我对这些接口做了一些封装，下面开始介绍这个库的使用。</p><a id="more"></a><h1 id="一-库の引用"><a href="#一-库の引用" class="headerlink" title="一. 库の引用"></a>一. 库の引用</h1><p>API库已经上传到了jCenter中，可以在Gradle中直接引用，方式如下：<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="string">'com.megvii.api:faceid:1.0.0'</span></span><br></pre></td></tr></table></figure></p><p>库的网络层使用的是第三方的okhttp，里面对他进行了一些简单的封装，但是这部分代码已经混淆，并未向外暴露。目的就是希望用户在使用上，只需要去关注api接口本身，忽略实现。<a href="https://github.com/zuochengyao/FaceIDApi" target="_blank" rel="noopener">源码</a>在Github上，如果不希望混淆的也可以自行下载。</p><h1 id="二-类の说明"><a href="#二-类の说明" class="headerlink" title="二. 类の说明"></a>二. 类の说明</h1><h2 id="1-com-megvii-api"><a href="#1-com-megvii-api" class="headerlink" title="1. com.megvii.api"></a>1. com.megvii.api</h2><h3 id="类：FaceIDConst"><a href="#类：FaceIDConst" class="headerlink" title="类：FaceIDConst"></a>类：FaceIDConst</h3><p>此类为调用FaceID-API接口的 <strong>参数名称</strong> 常量，用于 <strong>请求中的填入的Key</strong> 与 <strong>解析返回的json</strong>：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// region Base</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String API_PARAM_API_KEY = <span class="string">"api_key"</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String API_PARAM_API_SECRET = <span class="string">"api_secret"</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String API_PARAM_REQUEST_ID = <span class="string">"request_id"</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String API_PARAM_TIME_USED = <span class="string">"time_used"</span>;</span><br><span class="line"><span class="comment">// endregion</span></span><br><span class="line">...略</span><br></pre></td></tr></table></figure></p><p>具体可在库中进行查看，不在此进行详细说明</p><h3 id="类：FaceIDConfig"><a href="#类：FaceIDConfig" class="headerlink" title="类：FaceIDConfig"></a>类：FaceIDConfig</h3><p>FaceID全局配置类，用于配置FaceID业务的key与secret（必须），还可以配置http请求中的connect超时时间、read超时时间和write超时时间（非必须，默认时间分别为20s, 30s和30s）。<br>此类使用了Builder模式，获取实例对象方法如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FaceIDConfig config = <span class="keyword">new</span> FaceIDConfig.Builder()</span><br><span class="line">                .setApiKey(<span class="string">"your key"</span>)</span><br><span class="line">                .setApiSecret(<span class="string">"your secret"</span>)</span><br><span class="line">                .setConnectTimeout(<span class="number">20</span>)</span><br><span class="line">                .setReadTimeout(<span class="number">30</span>)</span><br><span class="line">                .setWriteTimeout(<span class="number">30</span>)</span><br><span class="line">                .build();</span><br></pre></td></tr></table></figure></p><h3 id="接口：FaceIDApiCallback"><a href="#接口：FaceIDApiCallback" class="headerlink" title="接口：FaceIDApiCallback"></a>接口：FaceIDApiCallback</h3><p>FaceID API异步请求回调接口，接口中有两个方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 发送的网络请求，收到服务器响应时回调</span></span><br><span class="line"><span class="comment"> * 包含非200的请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> apiId 请求api的id，用于区分是哪一个http请求结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> statusCode 状态码</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> json 返回json结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(<span class="keyword">int</span> apiId, <span class="keyword">int</span> statusCode, String json)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 发送的网络请求异常时回调</span></span><br><span class="line"><span class="comment"> * 非200的请求不会调用此接口，只处理请求异常</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> apiId 请求api的id，用于区分是哪一个http请求结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> e IO异常</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> apiId, IOException e)</span></span>;</span><br></pre></td></tr></table></figure></p><h3 id="类：FaceIDApi"><a href="#类：FaceIDApi" class="headerlink" title="类：FaceIDApi"></a>类：FaceIDApi</h3><p>FaceID API的接口封装类，所有用到的faceid接口全部由此类提供。此类为单例模式，在使用时需要先进行初始化设置；所有接口请求为异步方式，所有回调均是通过<code>FaceIDApiCallback</code>进行通知。</p><h4 id="公有属性"><a href="#公有属性" class="headerlink" title="公有属性"></a>公有属性</h4><p>用于在接口回调时，区别某个请求的ID值<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Detect 接口回调id */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> API_ID_DETECT = <span class="number">101</span>;</span><br><span class="line"><span class="comment">/** IDCardOCR（V1版本） 接口回调id */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> API_ID_OCR_IDCARD_V1 = <span class="number">102</span>;</span><br><span class="line"><span class="comment">/** IDCardOCR（V2版本） 接口回调id */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> API_ID_OCR_IDCARD_V2 = <span class="number">103</span>;</span><br><span class="line"><span class="comment">/** BankCardOCR 接口回调id */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> API_ID_OCR_BANKCARD = <span class="number">104</span>;</span><br><span class="line"><span class="comment">/** Verify 接口回调id */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> API_ID_VERIFY = <span class="number">105</span>;</span><br></pre></td></tr></table></figure></p><h4 id="获取实例"><a href="#获取实例" class="headerlink" title="获取实例"></a>获取实例</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> FaceIDApi <span class="title">getInstance</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><h4 id="配置初始化"><a href="#配置初始化" class="headerlink" title="配置初始化"></a>配置初始化</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * FaceIDApi 配置初始化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> config FaceIDConfig 全局配置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(@NonNull FaceIDConfig config)</span></span>;</span><br></pre></td></tr></table></figure><h4 id="设置网络回调监听器"><a href="#设置网络回调监听器" class="headerlink" title="设置网络回调监听器"></a>设置网络回调监听器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFaceIDApiCallback</span><span class="params">(FaceIDApiCallback callback)</span></span>;</span><br></pre></td></tr></table></figure><p>由于设置后，单例对象会一直持有当前设置的实例，这可能会造成内存泄漏，所以当不需要回调时，请将其设置为null</p><h4 id="Detect：人脸检测接口方法"><a href="#Detect：人脸检测接口方法" class="headerlink" title="Detect：人脸检测接口方法"></a>Detect：人脸检测接口方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测一张照片中的人脸，并且将检测出的人脸保存到FaceID平台里，便于后续的人脸比对</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> detectImage 真人人脸照片</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 是否启动旋转检测；"1"：启动 "0"：不启动</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Detect</span><span class="params">(@NonNull File detectImage, @MultiOrientedDetection <span class="keyword">int</span> multiOrientedDetection)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测一张照片中的人脸，并且将检测出的人脸保存到FaceID平台里，便于后续的人脸比对</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> detectData 真人人脸数据流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 是否启动旋转检测；"1"：启动 "0"：不启动</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Detect</span><span class="params">(@NonNull <span class="keyword">byte</span>[] detectData, @MultiOrientedDetection <span class="keyword">int</span> multiOrientedDetection)</span></span></span><br></pre></td></tr></table></figure><h4 id="IDCardOCR：身份证检测接口方法"><a href="#IDCardOCR：身份证检测接口方法" class="headerlink" title="IDCardOCR：身份证检测接口方法"></a>IDCardOCR：身份证检测接口方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测和识别中华人民共和国第二代身份证</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardImage 一个身份证照图片，二进制文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> legality 返回身份证照片合法性检查结果；"1"：返回 "0"：不返回</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> V1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">IDCardOCR_V1</span><span class="params">(@NonNull File idcardImage, @Nullable String legality)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测和识别中华人民共和国第二代身份证</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardImage 一个身份证照图片，二进制文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> returnPortrait 是否返回身份证上的人像；"1"：返回 "0"：不返回</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> V2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">IDCardOCR_V2</span><span class="params">(@NonNull File idcardImage, @Nullable String returnPortrait)</span></span>;</span><br></pre></td></tr></table></figure><h4 id="BankCardOCR：银行卡检测接口方法"><a href="#BankCardOCR：银行卡检测接口方法" class="headerlink" title="BankCardOCR：银行卡检测接口方法"></a>BankCardOCR：银行卡检测接口方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测和识别银行卡的卡号信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> bankcardImage 一个银行卡照图片，二进制文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BankCardOCR</span><span class="params">(@NonNull File bankcardImage)</span></span>;</span><br></pre></td></tr></table></figure><h4 id="Verify：人脸比对接口方法"><a href="#Verify：人脸比对接口方法" class="headerlink" title="Verify：人脸比对接口方法"></a>Verify：人脸比对接口方法</h4><p>由于<a href="https://faceid.com/pages/documents/4173286" target="_blank" rel="noopener">FaceID-Verify</a>接口参数的多变性，所以这个接口并没有直接调用的方法，而是将其封装成一个内部类-FaceIDApi.Verify（<a href="#inner" class="nav-link">详见</a>），通过本小节的以下两个重载方法，即可获得 <strong>有源比对</strong> 与 <strong>无源比对</strong> 的Verify实例对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个内部类Verify有源比对请求对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardName 身份证号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardNumber 身份证号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 对image参数和image_ref[x]参数启用图片旋转检测功能；"1"：启用 "0"：不启用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef1 参照人脸照片1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef2 参照人脸照片2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef3 参照人脸照片3</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Verify有源比对请求对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> FaceIDApi.<span class="function">Verify <span class="title">Verify</span><span class="params">(@NonNull String idcardName, @NonNull String idcardNumber, @MultiOrientedDetection String multiOrientedDetection, File imageRef1, File imageRef2, File imageRef3)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建一个内部类Verify无源比对请求对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> uuid 标志本次识别对应的用户的id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef1 参照人脸照片1（必须）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 对image参数和image_ref[x]参数启用图片旋转检测功能；"1"：启用 "0"：不启用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef2 参照人脸照片2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef3 参照人脸照片3</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Verify无源比对请求对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> FaceIDApi.<span class="function">Verify <span class="title">Verify</span><span class="params">(@NonNull String uuid, @NonNull File imageRef1, @MultiOrientedDetection String multiOrientedDetection, File imageRef2, File imageRef3)</span></span>;</span><br></pre></td></tr></table></figure></p><p><a id="inner"></a></p><h4 id="内部类：Verify"><a href="#内部类：Verify" class="headerlink" title="内部类：Verify"></a>内部类：Verify</h4><h5 id="内部类构造方法"><a href="#内部类构造方法" class="headerlink" title="内部类构造方法"></a>内部类构造方法</h5><p>内部类的所有构造方法都是private类型，获取此内部类对象方式Verify：有源比对面详解。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 构造器：有源比对</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardName 身份证号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> idcardNumber 身份证号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 对image参数和image_ref[x]参数启用图片旋转检测功能；"1"：启用 "0"：不启用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef1 参照人脸照片1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef2 参照人脸照片2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef3 参照人脸照片3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Verify</span><span class="params">(String idcardName, String idcardNumber, String multiOrientedDetection, File imageRef1, File imageRef2, File imageRef3)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 构造器：无源比对</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> uuid 标志本次识别对应的用户的id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef1 参照人脸照片1（必须）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 对image参数和image_ref[x]参数启用图片旋转检测功能；"1"：启用 "0"：不启用</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef2 参照人脸照片2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageRef3 参照人脸照片3</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Verify</span><span class="params">(String uuid, File imageRef1, String multiOrientedDetection, File imageRef2, File imageRef3)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 构造器</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> comparisonType 确定本次比对为“有源比对”或“无源比对”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> multiOrientedDetection 对image参数和image_ref[x]参数启用图片旋转检测功能；"1"：启用 "0"：不启用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Verify</span><span class="params">(String comparisonType, String multiOrientedDetection)</span></span></span><br></pre></td></tr></table></figure></p><h5 id="内部类公有方法"><a href="#内部类公有方法" class="headerlink" title="内部类公有方法"></a>内部类公有方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 配合MegLiveSDK使用时，进行比对调用此方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delta 校验上传数据的校验字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageBest MegLiveSDK返回的质量最佳的人脸图片</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageEnv MegLiveSDK返回的带环境图</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageAction1 活体检测图片1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageAction2 活体检测图片2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageAction3 活体检测图片3</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageAction4 活体检测图片4</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imageAction5 活体检测图片5</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> checkDelta 校验delta是否已经使用过；"1"：校验 "0"：不校验</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ByMeglive</span><span class="params">(@NonNull String delta, @NonNull File imageBest, File imageEnv, File imageAction1, File imageAction2, File imageAction3, File imageAction4, File imageAction5, @CheckDelta String checkDelta)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 调用detect后获得facetoken时，进行比对调用此方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> faceToken 使用detect接口获得的一个标示人脸的token</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ByFaceToken</span><span class="params">(@NonNull String faceToken)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 直接上传一张照片时，进行比对调用此方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> image 待比对的人脸照片</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> failWhenMultipleFaces 对验证照作人脸检测时发现有多张脸，是否立即返回错误，或者取最大的一张脸继续比对；"1"：立即返回错误码 "0"：取最大脸继续比对</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> faceQualityThreshold 验证照中（最大的一张）人脸图像质量分的阈值 （缺省值为30）</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> returnFaces 返回人脸检测结果；"1"：返回 "0"：不返回</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ByRawImage</span><span class="params">(@NonNull File image, @FailWhenMultipleFaces String failWhenMultipleFaces, String faceQualityThreshold, @ReturnFaces String returnFaces)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 配合MegLiveFlash（炫彩活体）SDK使用时，进行比对调用此方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> megliveFlashResult 在 MegLiveFlash（炫彩活体）成功时会生成并返回一个文件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ByMegliveFlash</span><span class="params">(@NonNull File megliveFlashResult)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="2-com-megvii-api-entity"><a href="#2-com-megvii-api-entity" class="headerlink" title="2. com.megvii.api.entity"></a>2. com.megvii.api.entity</h2><p>此包下的类，用于将FaceIDApi类中的http请求返回的Json结果，解析成对应对象的实体类。引用库代码已混淆，但已封装好访问器，可以通过<code>setX()</code>与<code>getX()</code>进行赋值与取值，所有类中的私有属性均与FaceID接口文档的返回参数一一对应，详细的说明可以查看<a href="https://faceid.com/pages/documents/" target="_blank" rel="noopener">官网文档</a></p><h2 id="3-com-megvii-api-util"><a href="#3-com-megvii-api-util" class="headerlink" title="3. com.megvii.api.util"></a>3. com.megvii.api.util</h2><h3 id="类：JsonUtil"><a href="#类：JsonUtil" class="headerlink" title="类：JsonUtil"></a>类：JsonUtil</h3><p>此工具类可将FaceIDApi中的返回结果，解析为对应的对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * json结果解析为com.megvii.api.entity.Detect对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> body Detect接口返回json结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.megvii.api.entity.Detect对象，若body为非标准json格式，则返回null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Detect <span class="title">json2Detect</span><span class="params">(@NonNull String body)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * json结果解析为com.megvii.api.entity.IDCardV1对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> body IDCardOCR_V1接口返回json结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.megvii.api.entity.IDCardV1对象，若body为非标准json格式，则返回null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IDCardV1 <span class="title">json2IDCardV1</span><span class="params">(@NonNull String body)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * json结果解析为com.megvii.api.entity.IDCardV2对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> body IDCardOCR_V2接口返回json结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.megvii.api.entity.IDCardV2对象，若body为非标准json格式，则返回null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IDCardV2 <span class="title">json2IDCardV2</span><span class="params">(@NonNull String body)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * json结果解析为com.megvii.api.entity.BankCard对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> body BankCardOCR接口返回json结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.megvii.api.entity.BankCard对象，若body为非标准json格式，则返回null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BankCard <span class="title">json2BankCard</span><span class="params">(@NonNull String body)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * json结果解析为com.megvii.api.entity.Verify对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> body Verify接口返回json结果</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> com.megvii.api.entity.Verify对象，若body为非标准json格式，则返回null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Verify <span class="title">json2Verify</span><span class="params">(@NonNull String body)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br></pre></td></tr></table></figure></p><h3 id="类：Common"><a href="#类：Common" class="headerlink" title="类：Common"></a>类：Common</h3><p>Common类提供一些简单的方法，如base64转文件、根据detect接口返回人脸坐标截取人脸等，此类功能会根据客户需求，在后续版本中持续更新<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * base64转换为图片文件</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filePath 图片文件路径</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> base64 图片base64数据</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 转换图片</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> File <span class="title">convert2File</span><span class="params">(String filePath, String base64)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sha1 算法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> strSrc 待加密串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 加密后的串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">shaEncrypt</span><span class="params">(String strSrc)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 数据转换16进制</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> bts 数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">bytes2Hex</span><span class="params">(<span class="keyword">byte</span>[] bts)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 截取图片中的人脸</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> rect 人脸框在图片中的位置占比</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filePath 人脸图路径</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 人脸图</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bitmap <span class="title">getFaceBitmap</span><span class="params">(RectF rect, String filePath)</span></span>;</span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">## 4. com.megvii.api.annotation</span><br><span class="line">此包下为自定义注解，用于限定函数参数的取值范围，实际开发使用中可不用过多关注。</span><br><span class="line"></span><br><span class="line"># 三. 库の示例</span><br><span class="line"></span><br><span class="line">```Java</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span> <span class="keyword">implements</span> <span class="title">FaceIDApiCallback</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="comment">// 配置config参数</span></span><br><span class="line">        FaceIDConfig config = <span class="keyword">new</span> FaceIDConfig.Builder()</span><br><span class="line">                .setApiKey(<span class="string">"56ymDEP38_Z1uwDoyRSUEUr_ukBJfEzG"</span>)</span><br><span class="line">                .setApiSecret(<span class="string">"Lmy0aNaQ2fXg_ZaliQtvhjcPrgmxGq5y"</span>)</span><br><span class="line">                .setConnectTimeout(<span class="number">20</span>)</span><br><span class="line">                .setReadTimeout(<span class="number">30</span>)</span><br><span class="line">                .setWriteTimeout(<span class="number">30</span>)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="comment">// 初始化FaceIDApi                </span></span><br><span class="line">        FaceIDApi.getInstance().init(config);</span><br><span class="line">        <span class="comment">// 设置监听</span></span><br><span class="line">        FaceIDApi.getInstance().setFaceIDApiCallback(<span class="keyword">this</span>);</span><br><span class="line">        <span class="comment">// 发送Detect接口请求</span></span><br><span class="line">        FaceIDApi.getInstance().Detect(detectFile, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 发送IDCardOCR(V1)接口请求</span></span><br><span class="line">        FaceIDApi.getInstance().IDCardOCR_V1(idcardFile, <span class="string">"1"</span>);</span><br><span class="line">        <span class="comment">// 发送IDCardOCR(V2)接口请求</span></span><br><span class="line">        FaceIDApi.getInstance().IDCardOCR_V2(idcardFile, <span class="string">"1"</span>);</span><br><span class="line">        <span class="comment">// 发送BankCardOCR接口请求</span></span><br><span class="line">        FaceIDApi.getInstance().BankCardOCR(bankcardFile);</span><br><span class="line">        <span class="comment">// 获取有源比对实例对象</span></span><br><span class="line">        FaceIDApi.Verify hasSource = FaceIDApi.getInstance().Verify(<span class="string">"姓名"</span>, <span class="string">"身份证号"</span>, <span class="string">"1"</span>, imageRef1, imageRef2, imageRef3);</span><br><span class="line">        <span class="comment">// 通过detect后获得facetoke调用有源比对</span></span><br><span class="line">        hasSource.ByFaceToken(<span class="string">"your face token"</span>);</span><br><span class="line">        <span class="comment">// 配合MegLiveSDK使用时调用有源比对</span></span><br><span class="line">        hasSource.ByMeglive(delta, imageBest, imageEnv, imageAction1, imageAction2, imageAction3, imageAction4, imageAction5, <span class="string">"1"</span>);</span><br><span class="line">        <span class="comment">// 直接上传一张照片时调用有源比对</span></span><br><span class="line">        hasSource.ByRawImage(file, <span class="string">"1"</span>, <span class="string">"30"</span>, <span class="string">"1"</span>);</span><br><span class="line">        <span class="comment">// 配合MegLiveFlash（炫彩活体）SDK使用时调用有源比对</span></span><br><span class="line">        hasSource.ByMegliveFlash(megliveFlashResult);</span><br><span class="line">        <span class="comment">// 获取无源比对实例对象</span></span><br><span class="line">        FaceIDApi.Verify noSource = FaceIDApi.getInstance().Verify(uuid, imageRef1, <span class="string">"0"</span>, imageRef2, imageRef3);</span><br><span class="line">        <span class="comment">// noSource方法调用与hasSource相同，在此略过。</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="comment">// 取消监听</span></span><br><span class="line">        FaceIDApi.getInstance().setFaceIDApiCallback(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// FaceIDApiCallback响应回调，在onCreate方法中调用接口请求方法，成功后（成功包含非200的情况）回调此方法，根据对应的apiId进行区分。</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResponse</span><span class="params">(<span class="keyword">int</span> apiId, <span class="keyword">int</span> statusCode, String json)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Log.d(TAG,String.format(<span class="string">"ApiID:%d, StatusCode:%d, Json:%s"</span>, apiId, statusCode, json));</span><br><span class="line">        <span class="keyword">if</span> (statusCode == <span class="number">200</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">switch</span> (apiId)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> FaceIDApi.API_ID_DETECT:</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// 根据返回json结果，解析成Detect对象</span></span><br><span class="line">                    Detect detect = JsonUtil.json2Detect(json);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> FaceIDApi.API_ID_OCR_IDCARD_V1:</span><br><span class="line">                &#123;</span><br><span class="line">                    IDCardV1 idCard = JsonUtil.json2IDCardV1(json);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> FaceIDApi.API_ID_OCR_IDCARD_V2:</span><br><span class="line">                &#123;</span><br><span class="line">                    IDCardV2 idCard = JsonUtil.json2IDCardV2(json);</span><br><span class="line">                    <span class="keyword">if</span> (idCard.getSide() == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span> (idCard.getFrontSide().getPortrait() != <span class="keyword">null</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="keyword">boolean</span> b = Common.convert2File(idCard.getFrontSide().getPortrait().getResult());</span><br><span class="line">                            Log.d(TAG, <span class="string">"file save "</span> + b);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> FaceIDApi.API_ID_OCR_BANKCARD:</span><br><span class="line">                &#123;</span><br><span class="line">                    BankCard bankCard = JsonUtil.json2BankCard(json);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">case</span> FaceIDApi.API_ID_VERIFY:</span><br><span class="line">                &#123;</span><br><span class="line">                    Verify verify = JsonUtil.json2Verify(json);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// FaceIDApiCallback异常回调</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailure</span><span class="params">(<span class="keyword">int</span> apiId, IOException e)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> FaceID </tag>
            
            <tag> Java </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello Hexo：二回熟</title>
      <link href="/blog/articles/6b68fde8.html"/>
      <url>/blog/articles/6b68fde8.html</url>
      <content type="html"><![CDATA[<p><blockquote class="blockquote-center">“我买几个橘子去。你就在此地，不要走动。” — 朱自清《背影》</blockquote><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_head.jpg"></p><h2 id="〇-Header"><a href="#〇-Header" class="headerlink" title="〇. Header"></a>〇. Header</h2><p></p><p id="div-border-left-green">&emsp;&emsp;父亲节，约二十世纪初起源于美国，每年6月的第三个星期日。我买几个橘子去。你就往下看，不要走动（会不会挨打🤣）。<br>&emsp;&emsp;通过<a href="/blog/articles/9619e032.html" title="上一篇">上一篇</a>文章，我相信你已经熟悉了Hexo的基本用法，但是似乎这还不够，主题、导航、网站图标、背景、文章结束语、阅读数等等这些常用且刚(装)需(哔——)的小东西还未添加进去，那么现在，我们就开始Hexo定制化的过程。</p><br><a id="more"></a><p></p><h2 id="一-Body"><a href="#一-Body" class="headerlink" title="一. Body"></a>一. Body</h2><h3 id="0-更换主题"><a href="#0-更换主题" class="headerlink" title="0. 更换主题"></a>0. 更换主题</h3><p>&emsp;&emsp;默认的事物不是不好，但它更适合rookie。<br>&emsp;&emsp;Hexo为我们提供了大量的<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题</a>，有兴趣的可以根据喜好进行更换。在这我推荐的主题是<a href="https://theme-next.iissnan.com/" target="_blank" rel="noopener">NexT</a>，一款 <strong>精于心，简于形</strong> 的主题。NexT使用的人数非常多，我搜索到用Hexo框架的博主，大约90%都是这个主题，不仅因为美观，同时NexT也有很强大的第三方插件扩展的能力，非常方便。</p><h4 id="下载NexT"><a href="#下载NexT" class="headerlink" title="下载NexT"></a><center>下载NexT</center></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd Cheero // Cheero替换为你的站点根目录</span><br><span class="line"><span class="meta">$</span> git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;有的博主（包括官网）写的下载地址可能会是<a href="https://github.com/iissnan/hexo-theme-next/" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next/</a> ，但是使用这个版本部署的时候会提示有新版本，我这强迫症可受不了这个。<br>&emsp;&emsp;下载完成之后我们进入next目录，里面也有一个_config.xml文件，这个是主题配置文件（区别于根目录的 站点配置文件 ），我们可以在这配置NexT主题样式、代码块样式、导航栏、字体、第三方插件（评论、打赏等）等。</p><h4 id="使用NexT"><a href="#使用NexT" class="headerlink" title="使用NexT"></a><center>使用NexT</center></h4><p>打开 <strong>站点</strong> 配置文件_config.yml，找到theme关键字，将其改为next：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https://hexo.io/plugins/</span><br><span class="line">## Themes: https://hexo.io/themes/</span><br><span class="line">theme: next</span><br></pre></td></tr></table></figure></p><h4 id="NexT风格"><a href="#NexT风格" class="headerlink" title="NexT风格"></a><center>NexT风格</center></h4><p>NexT提供了四种可选择的主题风格，打开 <strong>主题</strong> 配置文件_config.yml，找到scheme关键字，选择你喜欢的风格即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scheme: Mist</span><br><span class="line"># scheme: Muse</span><br><span class="line"># scheme: Pisces</span><br><span class="line"># scheme: Gemini</span><br></pre></td></tr></table></figure></p><p>修改完毕之后重新生成部署，就会看到新的站点，复习一下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> hexo clean</span><br><span class="line"><span class="meta">$</span> hexo g </span><br><span class="line"><span class="meta">$</span> hexo s</span><br></pre></td></tr></table></figure></p><h3 id="1-设置语言"><a href="#1-设置语言" class="headerlink" title="1. 设置语言"></a>1. 设置语言</h3><p>在上一篇文章里，我们已经将站点配置文件的language设置为zh-CN，但是现在我们配置的是NexT主题的language，打开主题配置文件（themes/next/_config.yml）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language: zh-Hans</span><br></pre></td></tr></table></figure></p><p>我们可以看到这个设置的value是 <em>zh-Hans</em> 而不是 <em>zh-CN</em> 。这是因为主题的语言我们需要根据theme/next/languages里包含的yml文件名称来进行替换，否则无效。现在我们打开zh-CN.yml文件，就会看到每个字段代表的中文汉字。</p><h3 id="2-导航菜单"><a href="#2-导航菜单" class="headerlink" title="2. 导航菜单"></a>2. 导航菜单</h3><blockquote><p>在NexT中，导航菜单是可以通过配置来进行显示和使用。</p></blockquote><h4 id="添加导航菜单"><a href="#添加导航菜单" class="headerlink" title="添加导航菜单"></a><center>添加导航菜单</center></h4><p>打开主题配置文件，找到 <strong>menu:</strong> 字段：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_menu.jpg"><br>我们将 <strong>menu_setting: icons:</strong> 设置为true，这样就会显示导航图标。你也可以根据需要打开对应的导航菜单项，每一项的格式说明如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 菜单名称: link目录 || icon图标 </span><br><span class="line">archives: /archives/ || archive</span><br></pre></td></tr></table></figure></p><p>NexT使用的是<a href="http://fontawesome.dashgame.com/" target="_blank" rel="noopener">Font Awesome</a> 提供的图标，它提供了600多种图标，可以满足绝大的多数的场景，同时无须担心在Retina屏幕下图标模糊的问题。</p><h4 id="创建导航菜单目录"><a href="#创建导航菜单目录" class="headerlink" title="创建导航菜单目录"></a><center>创建导航菜单目录</center></h4><p>经过上面的配置，我们部署后就可以看到导航菜单发生了一些变化：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_nav.jpg"><br>但是当我们点击其中一项的时候，发现会提示<code>Cannot GET /xxx/</code>，这是因为虽然我们显示出来了这一项，但实际上链接中并没有找到对应的页面，所以我们需要创建一个，我们回到站点根目录，在终端里输入：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> hexo new page 'tags' # 创建 标签 子目录</span><br><span class="line"><span class="meta">$</span> hexo new page 'categories' # 创建 分类 子目录</span><br><span class="line"><span class="meta">$</span> hexo new page 'about' # 创建 关于 子目录</span><br></pre></td></tr></table></figure></p><p>这样在根目录的source子目录下就会多出了tags、categories和about文件夹，并且每个文件夹里都包含一个<code>index.md</code>文件，修改这些文件，在头部新增<code>type</code>属性，并依次将值设置为<code>tags categories about</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: page</span><br><span class="line">title: 分类</span><br><span class="line">date: 2018-06-14 18:25:19</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>成功后，当你每新建一篇博文的时候，增加上tags和categories属性，就能在tags和categories界面显示文章了。</p><h3 id="3-头像设置"><a href="#3-头像设置" class="headerlink" title="3. 头像设置"></a>3. 头像设置</h3><p>打开NexT主题配置文件，搜索<code># Sidebar Avatar</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  # 头像地址，对应的是themes/next/source/images</span><br><span class="line">  # 将你的头像图片放到images目录下，将url指向头像图片</span><br><span class="line">  url: /images/cheero_logo.jpg</span><br><span class="line"></span><br><span class="line">  # 是否以圆形头像显示</span><br><span class="line">  rounded: false</span><br><span class="line"></span><br><span class="line">  # 透明度 opacity ∈ [0, 1]</span><br><span class="line">  opacity: 1</span><br><span class="line"></span><br><span class="line">  # 鼠标特效：放在头像上旋转</span><br><span class="line">  rotated: false</span><br></pre></td></tr></table></figure></p><center><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_avatar.gif"></center><h3 id="4-页面浏览进度"><a href="#4-页面浏览进度" class="headerlink" title="4. 页面浏览进度"></a>4. 页面浏览进度</h3><p>打开NexT主题配置文件，搜索<code>scrollpercent</code>，将其置为<code>true</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollpercent: true</span><br></pre></td></tr></table></figure></p><h3 id="5-添加GitHub-Corners"><a href="#5-添加GitHub-Corners" class="headerlink" title="5. 添加GitHub Corners"></a>5. 添加GitHub Corners</h3><p><a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">GitHub Corners</a>可以在网站的某个角添加一个github图标，你可以选择你喜欢的样式代码，将其复制到<code>themes/next/layout/_layout.swig</code>，添加到<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>下面，并将href内的链接指向你自己的github地址：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_github_corner.jpg"></p><h3 id="6-文章添加阴影"><a href="#6-文章添加阴影" class="headerlink" title="6. 文章添加阴影"></a>6. 文章添加阴影</h3><p>打开\themes\next\source\css_custom\custom.styl，向里面加入：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 203, .5);</span><br><span class="line">   <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="7-动态背景"><a href="#7-动态背景" class="headerlink" title="7. 动态背景"></a>7. 动态背景</h3><p>NexT主题提供了4中样式的动态背景，你可以根据喜好将其中一项置为<code>true</code>即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest: true</span><br><span class="line">three_waves: false</span><br><span class="line">canvas_lines: false</span><br><span class="line">canvas_sphere: false</span><br></pre></td></tr></table></figure></p><h3 id="8-文章底部标签"><a href="#8-文章底部标签" class="headerlink" title="8. 文章底部标签"></a>8. 文章底部标签</h3><p>文章添加标签后，默认会在最底部生成标签链接 <code># Hexo</code>，如果我们想去掉前面的<code>#</code>，需要修改模板<code>themes/next/layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将<code>#</code>换成<code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p><h3 id="9-文章结束标记"><a href="#9-文章结束标记" class="headerlink" title="9. 文章结束标记"></a>9. 文章结束标记</h3><p>在路径 <code>themes/next/layout/_macro</code> 中新建 <code>passage-end-tag.swig</code> 文件，并添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>------------- The End -------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>然后打开<code>themes/next/layout/_macro/post.swig</code>文件，在<code>post-body</code>之后添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_end.jpg"><h3 id="10-顶部加载条"><a href="#10-顶部加载条" class="headerlink" title="10. 顶部加载条"></a>10. 顶部加载条</h3><p>顶部加载条我们需要依赖<a href="https://github.com/theme-next/theme-next-pace" target="_blank" rel="noopener">theme-next-pace</a>，现将依赖包下载到我们的目录：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd themes/next</span><br><span class="line"><span class="meta">$</span> git clone https://github.com/theme-next/theme-next-pace source/lib/pace</span><br></pre></td></tr></table></figure></p><p>打开主题配置文件，搜索<code>pace</code>，将其置为<code>true</code>，同时也可以更换主题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># Progress bar in the top during page loading.</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-pace</span><br><span class="line">pace: true</span><br><span class="line"># Themes list:</span><br><span class="line">#pace-theme-big-counter</span><br><span class="line">#pace-theme-bounce</span><br><span class="line">#pace-theme-barber-shop</span><br><span class="line">#pace-theme-center-atom</span><br><span class="line">#pace-theme-center-circle</span><br><span class="line">#pace-theme-center-radar</span><br><span class="line">#pace-theme-center-simple</span><br><span class="line">#pace-theme-corner-indicator</span><br><span class="line">#pace-theme-fill-left</span><br><span class="line">#pace-theme-flash</span><br><span class="line">#pace-theme-loading-bar</span><br><span class="line">#pace-theme-mac-osx</span><br><span class="line">#pace-theme-minimal</span><br><span class="line"># For example</span><br><span class="line"># pace_theme: pace-theme-center-simple</span><br><span class="line">pace_theme: pace-theme-minimal</span><br></pre></td></tr></table></figure></p><h3 id="11-本地搜索"><a href="#11-本地搜索" class="headerlink" title="11. 本地搜索"></a>11. 本地搜索</h3><p>本地搜索功能需要添加 <a href="https://github.com/theme-next/hexo-generator-searchdb" target="_blank" rel="noopener">searchdb</a> 依赖库，进入到你的站点根目录下：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure></p><p>打开 <strong>站点配置文件</strong>，在末尾添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure></p><p>打开 <strong>主题配置文件</strong> ,搜索关键字 <code>local_search</code> ,设置为 <code>true</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: true</span><br><span class="line">  # if auto, trigger search by changing input</span><br><span class="line">  # if manual, trigger search by pressing enter key or search button</span><br><span class="line">  trigger: auto</span><br><span class="line">  # show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # unescape html strings to the readable one</span><br><span class="line">  unescape: false</span><br></pre></td></tr></table></figure></p><p>有的时候可能配置完成后，点击搜索按钮并不会弹出搜索界面，而是有一个Loading的图标一直在转，这个原因可能是因为你的文章中包含一些特殊字符导致搜索插件加载错误，虽然在你原本编辑的文件中并没有发现，但确实存在。我用的是<code>vscode</code>来编写的markdown博文(UTF-8编码)，将文章复制粘贴到<code>Sublime Text</code>中，会发现很多奇怪的东西：<br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/6b68fde8/img_seacrh_error.jpg"><br>将其删除，然后再copy到源文件中保存即可。</p><!-- ### 点击出现桃心效果 --><!-- 页面点击小红心 -->   <!-- <script type="text/javascript" src="http://7u2ss1.com1.z0.glb.clouddn.com/love.js"></script> --><!-- ### 热度 & 文章浏览数 --><!-- ### 博文压缩 --><!-- ### 博文 永久链接 --><!-- npm install hexo-abbrlink --savepermalink: post/:abbrlink.htmlabbrlink:  alg: crc32  # 算法：crc16(default) and crc32  rep: hex    # 进制：dec(default) and hex --><h2 id="二-Footer"><a href="#二-Footer" class="headerlink" title="二. Footer"></a>二. Footer</h2><p>文章到此简单的介绍了下NexT主题的个性化配置，后续我会继续零散的再补充其他的个性化配置。下一篇我会说明如何通过Github+个人域名来进行部署。</p>]]></content>
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello Hexo：一回生</title>
      <link href="/blog/articles/9619e032.html"/>
      <url>/blog/articles/9619e032.html</url>
      <content type="html"><![CDATA[<p><blockquote class="blockquote-center">今天高考，请加油，不行就复读</blockquote><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/9619e032/img_head.jpg" title="Hexo博客搭建"></p><h2 id="〇-前（fei）言（hua）"><a href="#〇-前（fei）言（hua）" class="headerlink" title="〇. 前（fei）言（hua）"></a>〇. 前（fei）言（hua）</h2><p id="div-border-left-green">&emsp;&emsp;北京工作第四个年头，发现身边的各路大神都会选择写博客来记录和分享经验，甚至面试时都会问你有没有博客或者Github。创建博客的方式和网站有很多，像CSDN、简书、WordPress、Github等。本人对于技术有很严重的强迫症，所以选了又选，最终决定使用<span id="inline-blue">Hexo + Github + 域名</span>来搭建自己的个人博客。<br>&emsp;&emsp;后续我会不断完善博客的各种小功能，也会趁热打铁的同步更新博客。现在，本文将先对Hexo做一个基本的介绍。</p><a id="more"></a><h2 id="一-什么是Hexo"><a href="#一-什么是Hexo" class="headerlink" title="一. 什么是Hexo"></a>一. 什么是<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a></h2><p>&emsp;&emsp;Hexo是一个基于<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a>的静态站点生成框架，它快速、简洁且高效。通过Hexo你可以轻松地使用Markdown来编写文章，并且除了Markdown本身的语法之外，还可以使用Hexo本身的 <strong>标签插件</strong> 来快速的插入特定形式的内容（如本地图片，以后会介绍通过Markdown语法和Hexo标签两种方式实现）。</p><h2 id="二-开始安装（以Mac为例）"><a href="#二-开始安装（以Mac为例）" class="headerlink" title="二. 开始安装（以Mac为例）"></a>二. 开始安装（以Mac为例）</h2><h3 id="0-Command-Line-Tools"><a href="#0-Command-Line-Tools" class="headerlink" title="0. Command Line Tools"></a>0. Command Line Tools</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> xcode-select --install</span><br></pre></td></tr></table></figure><h3 id="1-git"><a href="#1-git" class="headerlink" title="1. git"></a>1. git</h3><p>安装git有很多种方式，你可以去<a href="https://git-scm.com/" target="_blank" rel="noopener">官网下载</a>；也可以直接执行下面的语句，如果你已经配好了Homebrew：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> brew install git</span><br></pre></td></tr></table></figure></p><p>安装完成后执行<code>git version</code>，如果有显示版本号则表示安装完成。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> git version</span><br><span class="line">git version 2.15.1 (Apple Git-101)</span><br></pre></td></tr></table></figure></p><h3 id="2-Node-js"><a href="#2-Node-js" class="headerlink" title="2. Node.js"></a>2. Node.js</h3><p><a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">官网下载</a>，根据提示进行安装，完成后会包含npm，在terminal中执行：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> node -v</span><br><span class="line">v8.11.2</span><br><span class="line"><span class="meta">$</span> npm -v</span><br><span class="line">6.1.0</span><br></pre></td></tr></table></figure></p><p>这样就代表Node.js安装成功</p><h3 id="3-Hexo"><a href="#3-Hexo" class="headerlink" title="3. Hexo"></a>3. Hexo</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>待自动执行完成即可。</p><h2 id="三-实践：创建第一篇博客"><a href="#三-实践：创建第一篇博客" class="headerlink" title="三. 实践：创建第一篇博客"></a>三. 实践：创建第一篇博客</h2><blockquote><p>通过上面的步骤，你应该已经初步了解了Hexo。现在，我们开始创建第一篇博客文章。</p></blockquote><h3 id="0-初始化"><a href="#0-初始化" class="headerlink" title="0. 初始化"></a>0. 初始化</h3><p>首先我们需要创建一个工程目录，Hexo为我们提供了方法：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Cheero可以改成你自己的目录名称</span><br><span class="line"><span class="meta">$</span> hexo init Cheero </span><br><span class="line"><span class="meta">$</span> cd Cheero</span><br><span class="line">// 这句话会帮我们安装所用到的一些插件，但也有一些依赖包会根据需要手动安装</span><br><span class="line"><span class="meta">$</span> npm install</span><br><span class="line">// 先安装此插件，后续我们将把代码上传至GitHub</span><br><span class="line"><span class="meta">$</span> npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p><p>至此，Hexo会帮我们自动生成所需要的模板文件，里面的目录各有所用（具体可参考<a href="https://hexo.io/zh-cn/docs/setup.html" target="_blank" rel="noopener">文档</a>），现在我们来关心一些基本的配置项。</p><h3 id="1-站点配置"><a href="#1-站点配置" class="headerlink" title="1. 站点配置"></a>1. 站点配置</h3><p>在Cheero（主目录）中有一个_config.xml文件，里面包括整个站点的配置信息，现在我们修改下 <code># Site</code> 标签下的配置，以下是我的配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 网站标题，红色部分</span><br><span class="line">title: Cheero&apos;s Blog </span><br><span class="line">// 网站副标题，蓝色部分</span><br><span class="line">subtitle: 耀哥很忙</span><br></pre></td></tr></table></figure></p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/blog/articles/9619e032/img_title.jpg"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 网站描述，用于SEO，告诉搜索引擎一个关于您站点的简单描述。但是在这个主题中未显示出来，后续会切换到其它Theme</span><br><span class="line">description: A full-stack developer is coming.</span><br><span class="line">// 关键字，同样用于SEO</span><br><span class="line">keywords: 技术, Android, Java, Hexo</span><br><span class="line">// 作者</span><br><span class="line">author: Cheero</span><br><span class="line">// 语言，中文是zh-CN</span><br><span class="line">language: zh-CN</span><br><span class="line">// 时区，中国时区可用Asia/Shanghai</span><br><span class="line">timezone: Asia/Shanghai</span><br></pre></td></tr></table></figure><h3 id="2-本地部署"><a href="#2-本地部署" class="headerlink" title="2. 本地部署"></a>2. 本地部署</h3><p>现在我们想要在浏览器中来预览本地的博客，这个过程是[先生成] → [再发布]：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> hexo generate</span><br><span class="line">  ... ...</span><br><span class="line"><span class="meta">$</span> hexo server</span><br></pre></td></tr></table></figure></p><p>当然，上面的两句话还有简写的方式，<code>hexo g</code> &amp; <code>hexo s</code>，大家可以试一下，效果是一样的。<br>当提示<code>Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.</code>就说明已经“部署”完成，打开浏览器，输入地址，我们可以看到Hexo已经为我们预先生成好了一篇文章，接下来我们新建一篇自己的博客。</p><h3 id="3-新建文章"><a href="#3-新建文章" class="headerlink" title="3. 新建文章"></a>3. 新建文章</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 格式：hexo new [layout] &lt;title&gt;</span><br><span class="line"><span class="meta">$</span> hexo new "Hello Hexo"</span><br></pre></td></tr></table></figure><ul><li>如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。</li><li>如果标题包含空格的话，请使用引号括起来。</li></ul><p>创建完成之后，我们重新执行<code>hexo g</code>和<code>hexo s</code>，输入地址就会看到我们刚刚创建的文章。</p><h3 id="4-清理缓存"><a href="#4-清理缓存" class="headerlink" title="4. 清理缓存"></a>4. 清理缓存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p>这句话的作用是清除缓存文件 (db.json) 和已生成的静态文件 (public目录，执行hexo g后自动生成的)。<br>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><h2 id="四-后记"><a href="#四-后记" class="headerlink" title="四. 后记"></a>四. 后记</h2><p id="div-border-left-green">&emsp;&emsp;至此，利用Hexo搭建个人博客就已经初步完成，后续会再继续补充Hexo的其他功能配置，来一个进阶版！<br>PS：写博客比写代码可费时费事多了！！😭😭😭</p>]]></content>
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
